"use strict";(self.webpackChunkproject_5=self.webpackChunkproject_5||[]).push([[174],{6583:function(t,s,e){e.r(s),e.d(s,{default:function(){return H},withNavigate:function(){return z}});var r=e(1413),o=e(5671),a=e(3144),i=e(136),n=e(516),u=e(2791),p=e(264),l="profileInfo_profileInfo__GURHd",d=e(184),c=function(t){return t.profile?(0,d.jsx)("div",{className:l,children:(0,d.jsx)("div",{})}):(0,d.jsx)(p.Z,{})},f="profileStatus_statusDiv__B4U2l",h=function(t){(0,i.Z)(e,t);var s=(0,n.Z)(e);function e(){var t;(0,o.Z)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=s.call.apply(s,[this].concat(a))).state={editMode:!1,status:t.props.status},t.activateEditMode=function(){t.setState({editMode:!0})},t.deactivateEditMode=function(){t.setState({editMode:!1}),t.props.updateStatus(t.state.status)},t.onStatusChange=function(s){t.setState({status:s.currentTarget.value})},t}return(0,a.Z)(e,[{key:"componentDidUpdate",value:function(t,s){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return(0,d.jsxs)("div",{className:f,children:[!this.state.editMode&&(0,d.jsxs)("span",{onDoubleClick:this.activateEditMode,children:[" ",this.props.status||"------------"]}),this.state.editMode&&(0,d.jsx)("input",{onChange:this.onStatusChange,onFocus:!0,onBlur:this.deactivateEditMode,value:this.state.status})]})}}]),e}(u.Component),v=h,_="profileTop_profile__top__inixu",j="profileTop_profile__block1__SbkGh",x="profileTop_profile__block2__tUAQe",m="profileTop_profile__fullName__SRt9d",g=function(t){var s=t.profile,e=t.status,r=t.updateStatus,o=t.user;return s?(0,d.jsxs)("div",{className:_,children:[(0,d.jsx)("div",{className:j,children:(0,d.jsx)("img",{alt:"profile",src:"https://vjoy.cc/wp-content/uploads/2019/07/1-1.jpg"})}),(0,d.jsxs)("div",{className:x,children:[(0,d.jsx)("div",{children:(0,d.jsx)("img",{src:s.photos.large})}),(0,d.jsx)(v,{status:e,updateStatus:r}),(0,d.jsx)("div",{className:m,children:o.fullName})]}),(0,d.jsx)("div",{})]}):(0,d.jsx)(p.Z,{})},P=e(8687),S=e(6070),C="post_post__2TDM3",Z=function(t){return(0,d.jsxs)("div",{className:C,children:[(0,d.jsx)("img",{alt:"avatar",src:"https://static.thenounproject.com/png/3319451-200.png"}),(0,d.jsx)("div",{children:t.message}),(0,d.jsx)("div",{children:t.likesCount})]})},k="myPosts_myPosts__DvZFu",N=function(t){var s=t.postsPage.postsData.reverse().map((function(t){return(0,d.jsx)(Z,{id:t.id,likesCount:t.likesCount,message:t.message})}));return(0,d.jsxs)("div",{className:k,children:[(0,d.jsx)("h3",{children:"My Posts"}),s]})},w=e(6139),b=e(704),M={profileCreate:"profileCreate_profileCreate__eZur-",newPostBlock:"profileCreate_newPostBlock__aBeNh",textarea:"profileCreate_textarea__v2KxV",mediaButtons:"profileCreate_mediaButtons__OwA3C"},y=e(5304),B=e(5663),T=u.memo((function(t){console.log("flkajdgsd");return(0,d.jsxs)("div",{className:M.profileCreate,children:[(0,d.jsxs)("div",{className:M.newPostBlock,children:[(0,d.jsx)(A,{onSubmit:function(s){t.addPost(s.newPostText)}}),(0,d.jsx)("div",{className:M.mediaButtons,children:"add media buttons"})]}),(0,d.jsx)(N,{postsPage:t.postsPage})]})})),U=(0,y.D)(10),A=(0,b.Z)({form:"profileAddPostForm"})((function(t){return(0,d.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,d.jsx)("div",{children:(0,d.jsx)(w.Z,{name:"newPostText",component:B.Kx,validate:[y.C,U]})}),(0,d.jsx)("div",{children:(0,d.jsx)("button",{className:M.newPostButton,children:"Add New Post"})})]})})),D=(0,P.$j)((function(t){return{postsPage:t.postsPage}}),(function(t){return{addPost:function(s){t((0,S.WA)(s))}}}))(T),I="profile_profile__80bGc",E=function(t){return(0,d.jsxs)("div",{className:I,children:[(0,d.jsx)(g,{profile:t.profile,user:t.user,status:t.status,updateStatus:t.updateStatus}),(0,d.jsx)(c,{}),(0,d.jsx)(D,{store:t.store})]})},F=e(7689),G=e(7781),R=function(t){(0,i.Z)(e,t);var s=(0,n.Z)(e);function e(){return(0,o.Z)(this,e),s.apply(this,arguments)}return(0,a.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.router.params.userId;t||(t=this.props.authorizedUserId)||this.props.navigate("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return(0,d.jsx)(E,(0,r.Z)((0,r.Z)({},this.props),{},{profile:this.props.profile,user:this.props.user,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),e}(u.Component);var z=function(t){return function(s){return(0,d.jsx)(t,(0,r.Z)((0,r.Z)({},s),{},{navigate:(0,F.s0)()}))}},H=(0,G.qC)((0,P.$j)((function(t){return{profile:t.postsPage.profile,user:t.postsPage.user,status:t.postsPage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:S.et,getStatus:S.lR,updateStatus:S.Nf}),(function(t){return function(s){var e=(0,F.TH)(),o=(0,F.s0)(),a=(0,F.UO)();return(0,d.jsx)(t,(0,r.Z)((0,r.Z)({},s),{},{router:{location:e,navigate:o,params:a}}))}}),z)(R)}}]);
//# sourceMappingURL=174.1628e3c6.chunk.js.map